(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/pages/index"],{"1c44":function(t,e,a){"use strict";(function(t){a("52b5");n(a("66fd"));var e=n(a("de66"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"83e5":function(t,e,a){"use strict";a.r(e);var n=a("ffde"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},"9a68":function(t,e,a){"use strict";var n=a("cfa1"),o=a.n(n);o.a},cfa1:function(t,e,a){},de66:function(t,e,a){"use strict";a.r(e);var n=a("de98"),o=a("83e5");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("9a68");var l,r=a("f0c5"),u=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"364b995e",null,!1,n["a"],l);e["default"]=u.exports},de98:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={uSelect:function(){return a.e("uview-ui/components/u-select/u-select").then(a.bind(null,"55fe"))}},o=function(){var t=this,e=t.$createElement;t._self._c},i=[]},ffde:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("71f5"),o=function(){a.e("components/tabbar").then(function(){return resolve(a("c8b1"))}.bind(null,a)).catch(a.oe)},i={data:function(){return{screenheight:"",show:!1,date:"",list:[[{value:"2021",label:"2021"},{value:"2022",label:"2022"},{value:"2023",label:"2023"}],[]],datalist:[],dateselect:"",outmoney:0,inmoney:0,tablist:[{pagePath:"./index",text:"明细"},{pagePath:"./chart",text:"图表"},{pagePath:"./sq",text:"社区"},{pagePath:"./mine",text:"我的"},{pagePath:"../../booking/booking",text:"记账"}],options:{text:"删除",style:{backgroundColor:"#dd524d"}}}},components:{tabbar:o},created:function(){for(var t,e=0;e<12;e++)t=e<9?{value:"0"+(e+1),label:"0"+(e+1)}:{value:String(e+1),label:String(e+1)},this.list[1].push(t)},mounted:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),n=a+1;1==n.toString().length&&(n="0"+n),this.date=e+"-"+n;var o=this.date.split("-");this.dateselect=o[0]+"-"+o[1],this.getData()},onLoad:function(){t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:this.themeColor.color,animation:{duration:400,timingFunc:"easeIn"}});var e=t.getStorageSync("userInfo");if(null!=e&&""!=e&&null!=e.openid){var a=t.getSystemInfoSync();this.screenheight=a.windowHeight,this.indexNav()}else t.navigateTo({url:"/pages/login/login"})},methods:{indexNav:function(){var e=this,a=t.createSelectorQuery().select("#indexNav");a.boundingClientRect((function(t){e.screenheight=e.screenheight-t.height-95})).exec()},tabbarChange:function(e){4==e?t.navigateTo({url:this.tablist[e].pagePath,animationType:"slide-in-bottom",animationDuration:2e3}):(console.log(e),t.switchTab({url:this.tablist[e].pagePath,animationType:"slide-in-bottom",animationDuration:2e3}))},loginout:function(e){t.reLaunch({url:"../login/login"})},chooseDate:function(){this.show=!0},getData:function(){var t=this,e=this.date.split("-");console.log(e);var a=1,o=new Date(e[0],e[1],0).getDate();(0,n.callCloudFunction)("money_query",{openid:(0,n.getUserOpenid)(),startDate:new Date(e[0],new Number(e[1])-1,a,0,0,0),endDate:new Date(e[0],new Number(e[1])-1,o,23,59,59)},(function(e){for(var a=e.data,o=0;o<a.length;o++)"expenditure"==a[o].mark?t.outmoney+=-a[o].money:t.inmoney+=a[o].money,a[o].date1=t.$u.timeFormat(a[o].date,"yyyy-mm-dd");t.datalist=(0,n.change)(a);for(var i=0;i<t.datalist.length;i++){for(var l=0,r=0;r<t.datalist[i].data.length;r++)t.datalist[i].data[r].show=!0,l+=-t.datalist[i].data[r].money;t.datalist[i].total=l}console.log(t.datalist)}))},confirm:function(t){var e=this;this.dateselect=t[0].value+"-"+t[1].value;var a=this.date.split("-");console.log(a);var o=1,i=new Date(t[0].value,t[1].value,0).getDate();(0,n.callCloudFunction)("money_query",{openid:(0,n.getUserOpenid)(),startDate:new Date(a[0],t[1].value-1,o,0,0,0),endDate:new Date(a[0],t[1].value-1,i,23,59,59)},(function(t){for(var a=t.data,o=0;o<a.length;o++)a[o].date1=e.$u.timeFormat(a[o].date,"yyyy-mm-dd");e.datalist=(0,n.change)(a);for(var i=0;i<e.datalist.length;i++){for(var l=0,r=0;r<e.datalist[i].data.length;r++)l+=-e.datalist[i].data[r].money;e.datalist[i].total=l}console.log(e.datalist)}))},click:function(e,a){var n=this.datalist[e].data[a];console.log(n),t.setStorageSync("infodata",JSON.stringify(n)),t.navigateTo({url:"../../detail/detail"})}}};e.default=i}).call(this,a("543d")["default"])}},[["1c44","common/runtime","common/vendor"]]]);